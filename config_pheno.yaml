wandb_mode: 'online' # 'online' for syncing, or 'disabled' for no tracking
project_name: Phenotype-MLM
name: baseline
emb_dim: 512
ff_dim: 512
hidden_dim: 512 # for classifier
num_heads: 4
num_layers: 6
dropout_prob: 0.1
mask_prob: 0.25
# mask_prob: 
# num_known_ab: 4
num_known_ab: 
batch_size: 64
val_share: 0.15 # CV split
max_seq_len: 'auto'
epochs: 30
early_stopping_patience: 3
lr: 0.0001 
weight_decay: 0.01
use_weighted_loss: False
print_progress_every: 3000
report_every: 1500
save_vocab: True    
save_model: False   
random_state: 42
specials:   
  CLS: '[CLS]'
  PAD: '[PAD]'
  MASK: '[MASK]'
  UNK: '[UNK]'
data:
  prepare_data: False
  raw_path: 'data/raw/AMR_TEST.csv'
  save_path: 'data/TESSy.pkl'
  load_path: 'data/TESSy_15.pkl'
  # exclude_antibiotics: 
  exclude_antibiotics: ['TZP', 'AMC', 'OFX', 'POL', 'NOR', 'TGC', 'DOR', 'COL', 'AMX', 'NET', 'PIP'] # 15 AB
  pathogens: ['ESCCOL']
  impute_age: False
  impute_gender: False
  antibiotics:
    abbr_to_names:
      AMC: 'Amoxicillin/Clavulanic acid'
      AMK: 'Amikacin'
      AMP: 'Ampicillin'
      AMX: 'Amoxicillin'
      CAZ: 'Ceftazidime'
      CIP: 'Ciprofloxacin'
      COL: 'Colistin'
      CRO: 'Ceftriaxone'
      CTX: 'Cefotaxime'
      DOR: 'Doripenem'
      ETP: 'Ertapenem'
      FEP: 'Cefepime'
      GEN: 'Gentamicin'
      IPM: 'Imipenem'
      LVX: 'Levofloxacin'
      MEM: 'Meropenem'
      MFX: 'Moxifloxacin'
      NAL: 'Nalidixic acid'
      NET: 'Netilmicin'
      NOR: 'Norfloxacin'
      OFX: 'Ofloxacin'
      PIP: 'Piperacillin'
      POL: 'Polymyxin B'
      TGC: 'Tigecycline'
      TOB: 'Tobramycin'
      TZP: 'Piperacillin/Tazobactam'  
    name_to_abbr:
      Amoxicillin/Clavulanic acid: 'AMC'
      Amikacin: 'AMK'
      Ampicillin: 'AMP'
      Amoxicillin: 'AMX'
      Ceftazidime: 'CAZ'
      Ciprofloxacin: 'CIP'
      Colistin: 'COL'
      Ceftriaxone: 'CRO'
      Cefotaxime: 'CTX'
      Doripenem: 'DOR'
      Ertapenem: 'ETP'
      Cefepime: 'FEP'
      Gentamicin: 'GEN'
      Imipenem: 'IPM'
      Levofloxacin: 'LVX'
      Meropenem: 'MEM'
      Moxifloxacin: 'MFX'
      Nalidixic acid: 'NAL'
      Netilmicin: 'NET'
      Norfloxacin: 'NOR'
      Ofloxacin: 'OFX'
      Piperacillin: 'PIP'
      Polymyxin B: 'POL'
      Tigecycline: 'TGC'
      Tobramycin: 'TOB'
      Piperacillin/Tazobactam: 'TZP'
    ab_weights_strong: # S, R | Four levels: 40-60, 30-70, 20-80, 10-90 
      AMC: [0.4, 0.6]
      AMK: [0.1, 0.9]
      AMP: [0.4, 0.6]
      AMX: [0.6, 0.4]
      CAZ: [0.3, 0.7]
      CIP: [0.2, 0.8]
      COL: [0.2, 0.8]
      CRO: [0.2, 0.8]
      CTX: [0.6, 0.4]
      DOR: [0.3, 0.7]
      ETP: [0.1, 0.9]
      FEP: [0.2, 0.8]
      GEN: [0.2, 0.8]
      IPM: [0.1, 0.9]
      LVX: [0.3, 0.7]
      MEM: [0.1, 0.9]
      MFX: [0.4, 0.6]
      NAL: [0.1, 0.9]
      NET: [0.1, 0.9]
      NOR: [0.2, 0.8]
      OFX: [0.2, 0.8]
      PIP: [0.2, 0.8]
      POL: [0.1, 0.9]
      TGC: [0.1, 0.9]
      TOB: [0.1, 0.9]
      TZP: [0.1, 0.9]
    ab_weights_mild: # S, R
      AMC: [0.45, 0.55]
      AMK: [0.2, 0.8]
      AMP: [0.45, 0.55]
      AMX: [0.55, 0.45]
      CAZ: [0.4, 0.6]
      CIP: [0.3, 0.7]
      COL: [0.3, 0.7]
      CRO: [0.3, 0.7]
      CTX: [0.55, 0.45]
      DOR: [0.4, 0.6]
      ETP: [0.2, 0.8]
      FEP: [0.3, 0.7]
      GEN: [0.3, 0.7]
      IPM: [0.2, 0.8]
      LVX: [0.4, 0.6]
      MEM: [0.2, 0.8]
      MFX: [0.45, 0.55]
      NAL: [0.2, 0.8]
      NET: [0.2, 0.8]
      NOR: [0.3, 0.7]
      OFX: [0.3, 0.7]
      PIP: [0.3, 0.7]
      POL: [0.2, 0.8]
      TGC: [0.2, 0.8]
      TOB: [0.2, 0.8]
      TZP: [0.2, 0.8]
    classes:
      Aminoglycosides: ['AMK', 'GEN', 'TOB', 'NET']
      Carbapenems: ['IPM', 'MEM', 'DOR', 'ETP']
      Cephalosporins: ['CTX', 'CRO', 'CAZ', 'FEP']
      Fluoroquinolones: ['CIP', 'OFX', 'LVX', 'NOR', 'MFX', 'NAL']
      Penicillins: ['AMP', 'AMX', 'AMC', 'PIP', 'TZP']
      Polypeptides: ['COL', 'POL']
      Tetracyclines: ['TGC']
    abbr_to_class:
      AMK: 'Aminoglycosides'
      GEN: 'Aminoglycosides'
      TOB: 'Aminoglycosides'
      NET: 'Aminoglycosides'
      IPM: 'Carbapenems'
      MEM: 'Carbapenems'
      DOR: 'Carbapenems'
      ETP: 'Carbapenems'
      CTX: 'Cephalosporins'
      CRO: 'Cephalosporins'
      CAZ: 'Cephalosporins'
      FEP: 'Cephalosporins'
      CIP: 'Fluoroquinolones'
      OFX: 'Fluoroquinolones'
      LVX: 'Fluoroquinolones'
      NOR: 'Fluoroquinolones'
      MFX: 'Fluoroquinolones'
      NAL: 'Fluoroquinolones'
      AMP: 'Penicillins'
      AMX: 'Penicillins'
      AMC: 'Penicillins'
      PIP: 'Penicillins'
      TZP: 'Penicillins'
      COL: 'Polypeptides'
      POL: 'Polypeptides'
      TGC: 'Tetracyclines'
    class_enc:
      Aminoglycosides: 0
      Carbapenems: 1
      Cephalosporins: 2
      Fluoroquinolones: 3
      Penicillins: 4
      Polypeptides: 5
      Tetracyclines: 6
    abbr_to_class_enc:
      AMK: 0
      GEN: 0
      TOB: 0
      NET: 0
      IPM: 1
      MEM: 1
      DOR: 1
      ETP: 1
      CTX: 2
      CRO: 2
      CAZ: 2
      FEP: 2
      CIP: 3
      OFX: 3
      LVX: 3
      NOR: 3
      MFX: 3
      NAL: 3
      AMP: 4
      AMX: 4
      AMC: 4
      PIP: 4
      TZP: 4
      COL: 5
      POL: 5
      TGC: 6
